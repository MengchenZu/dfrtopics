#compdef mallet

local -a _args1
_args1=(
  'import-dir:load the contents of a directory into mallet instances (one per file)'
  'import-file:load a single file into mallet instances (one per line)'
  'import-svmlight:load SVMLight format data files into Mallet instances'
  'train-classifier:train a classifier from Mallet data files'
  'classify-dir:classify data from a single file with a saved classifier'
  'classify-file:classify the contents of a directory with a saved classifier'
  'classify-svmlight:classify data from a single file in SVMLight format'
  'train-topics:train a topic model from Mallet data files'
  'infer-topics:use a trained topic model to infer topics for new documents'
  'evaluate-topics:estimate the probability of new documents under a trained model'
  'hlda:train a topic model using Hierarchical LDA'
  'prune:remove features based on frequency or information gain'
  'split:divide data into testing, training, and validation portions'
)

_arguments \
  '*:: :->cmds' && return 0

if (( CURRENT == 1 )); then
  _describe -t cmds "mallet command" _args1
  return
fi

case "$words[1]" in
  import-dir)
    # TODO --input should allow any number of directories
    _arguments \
      '(*)--help[import-dir command line option usage]: :(TRUE FALSE)' \
      '--keep-sequence[final data will be a FeatureSequence]' \
      '--input[The directories containing text files to be classified]:DIR...:_files -/'
      ;;
esac

# vim: ft=zsh sw=2 ts=2 et
